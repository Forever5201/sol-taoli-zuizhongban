# ========================================
# Solana 闪电贷套利 - 主网配置
# ========================================
# 专为闪电贷套利优化的配置
# 最少需要 0.1-0.5 SOL 作为 Gas 储备

# ========================================
# Solana RPC 端点 (主网)
# ========================================
# ⚠️ 重要：请使用付费 RPC 以获得最佳性能
# 推荐服务商：
# - QuickNode: https://www.quicknode.com/
# - Helius: https://www.helius.dev/
# - Alchemy: https://www.alchemy.com/

# 主 RPC（必须配置！）
SOLANA_RPC_URL=https://api.mainnet-beta.solana.com

# 备用 RPC（可选，逗号分隔）
SOLANA_RPC_URLS=https://api.mainnet-beta.solana.com,https://solana-api.projectserum.com

# ========================================
# 钱包配置
# ========================================
# ⚠️ 重要：使用专用钱包，不要使用个人钱包！
DEFAULT_KEYPAIR_PATH=./keypairs/flashloan-wallet.json

# ========================================
# 闪电贷配置
# ========================================
# 启用闪电贷功能
ENABLE_FLASHLOAN=true

# 闪电贷协议选择
FLASHLOAN_PROTOCOL=solend

# 最大借款金额（lamports）
MAX_FLASHLOAN_AMOUNT=100000000000
# 100 SOL = 100,000,000,000 lamports
# 如果是新手，建议先设为 20,000,000,000 (20 SOL)

# 最小净利润要求（lamports）
MIN_PROFIT_AFTER_FEES=500000000
# 0.5 SOL = 500,000,000 lamports
# 只执行净利润 > 0.5 SOL 的套利

# 闪电贷费率（自动从协议读取，此处为默认值）
FLASHLOAN_FEE_RATE=0.0009
# Solend 费率：0.09%

# ========================================
# Jito 配置（强烈推荐）
# ========================================
# Jito 能大幅提高交易成功率
JITO_BLOCK_ENGINE_URL=https://mainnet.block-engine.jito.wtf

# Jito 小费策略
JITO_TIP_AMOUNT=5000
# 默认 5000 lamports (0.000005 SOL)
# 拥堵时可以提高到 10000-50000

# ========================================
# Jupiter 配置
# ========================================
JUPITER_API_URL=http://127.0.0.1:8080
JUPITER_PUBLIC_API_URL=https://quote-api.jup.ag/v6

# ========================================
# 性能配置（针对闪电贷优化）
# ========================================
# RPC 连接池大小
RPC_POOL_SIZE=5

# 最大并发请求
RPC_MAX_CONCURRENT=10

# 日志级别（debug | info | warn | error）
LOG_LEVEL=info

# ========================================
# 安全配置
# ========================================
# 单笔交易最大金额限制（用于闪电贷以外的操作）
MAX_TRANSACTION_AMOUNT=100000000
# 0.1 SOL，用于常规套利

# 最小钱包余额（Gas 储备）
MIN_WALLET_BALANCE=0.1
# 至少保持 0.1 SOL 作为 Gas

# ========================================
# 套利策略配置
# ========================================
# 最小价格差异（百分比）
MIN_PRICE_SPREAD=0.005
# 0.5% 价差才考虑套利

# 最大滑点容忍度（百分比）
MAX_SLIPPAGE=0.01
# 1% 最大滑点

# 交易超时时间（毫秒）
TRANSACTION_TIMEOUT=30000
# 30 秒超时

# ========================================
# 熔断器配置
# ========================================
# 连续失败次数限制
MAX_CONSECUTIVE_FAILURES=5

# 小时最大亏损（SOL）
MAX_HOURLY_LOSS=0.5

# 最低成功率
MIN_SUCCESS_RATE=0.3

# 冷却时间（秒）
COOLDOWN_PERIOD=300
# 5 分钟

# ========================================
# 开发配置
# ========================================
NODE_ENV=production
DRY_RUN=false
VERBOSE=false

# ========================================
# Worker Threads
# ========================================
WORKER_THREADS=4
# 根据 CPU 核心数调整

# ========================================
# 缓存配置
# ========================================
CACHE_TTL=60
METRICS_INTERVAL=60

# ========================================
# 监控告警（可选）
# ========================================
# Discord Webhook（用于接收告警）
# DISCORD_WEBHOOK_URL=https://discord.com/api/webhooks/YOUR_WEBHOOK_ID/YOUR_WEBHOOK_TOKEN

# Telegram Bot（用于接收告警）
# TELEGRAM_BOT_TOKEN=YOUR_BOT_TOKEN
# TELEGRAM_CHAT_ID=YOUR_CHAT_ID

# ========================================
# 代理配置（可选）
# ========================================
HTTP_PROXY=
HTTPS_PROXY=
NO_PROXY=localhost,127.0.0.1

# ========================================
# 高级配置（专家选项）
# ========================================
# 计算单元限制
COMPUTE_UNIT_LIMIT=1400000

# 优先费用（microLamports）
COMPUTE_UNIT_PRICE=5000

# 预留账户数量
RESERVED_ACCOUNTS=10
