# ğŸ“Š å¦‚ä½•æŸ¥çœ‹å»¶è¿Ÿç»Ÿè®¡æ—¥å¿—

## âš ï¸ é‡è¦å‘ç°

ä¹‹å‰çš„æ—¥å¿—æ˜¾ç¤º **`queriesTotal = 0`**ï¼Œè¯´æ˜æ‰€æœ‰ Quote API æŸ¥è¯¢éƒ½å¤±è´¥äº†ï¼

ç°åœ¨å·²ç»é‡æ–°ç¼–è¯‘å¹¶å¯åŠ¨ï¼Œå»¶è¿Ÿç»Ÿè®¡åŠŸèƒ½å·²ç”Ÿæ•ˆã€‚

---

## ğŸ” æŸ¥çœ‹æ—¥å¿—çš„æ–¹æ³•

### **æ–¹æ³• 1ï¼šæŸ¥çœ‹ç»ˆç«¯å®æ—¶æ—¥å¿—**

ç›´æ¥æŸ¥çœ‹è¿è¡Œ Bot çš„ç»ˆç«¯çª—å£ï¼Œä¼šçœ‹åˆ°ï¼š

#### **å•æ¬¡æŸ¥è¯¢å»¶è¿Ÿ**ï¼ˆå®æ—¶è¾“å‡ºï¼‰
```
[Worker 0] âœ… Quote outbound: So11...â†’USDC, took 120ms, got 9950000000
[Worker 0] âœ… Quote return: USDCâ†’So11..., took 128ms, got 9920000000
```

#### **ç»Ÿè®¡æ±‡æ€»**ï¼ˆæ¯ 10 è½®æ‰«æï¼‰
```
[Worker 0] ğŸ“Š â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• Latency Statistics (Last 20 queries) â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
[Worker 0] ğŸ“Š Outbound (SOLâ†’Bridge): avg 125ms, min 95ms, max 180ms
[Worker 0] ğŸ“Š Return (Bridgeâ†’SOL):   avg 135ms, min 102ms, max 195ms
[Worker 0] ğŸ“Š Total per round:       avg 130ms (10 rounds, 20 queries)
[Worker 0] ğŸ“Š Opportunities found:   0
[Worker 0] ğŸ“Š â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

---

### **æ–¹æ³• 2ï¼šæŸ¥çœ‹æ—¥å¿—æ–‡ä»¶**

#### **ğŸš¨ é‡è¦ï¼šæ—¥å¿—æ–‡ä»¶è·¯å¾„å¯èƒ½ä¸å­˜åœ¨ï¼**

ä¹‹å‰æ‚¨å°è¯•æŸ¥çœ‹ï¼š
```powershell
Get-Content logs\flashloan-dryrun.log -Tail 100
# æŠ¥é”™ï¼šæ‰¾ä¸åˆ°è·¯å¾„
```

**å¯èƒ½åŸå› **ï¼š
1. âœ… æ—¥å¿—åªè¾“å‡ºåˆ°**æ§åˆ¶å°**ï¼Œæ²¡æœ‰å†™å…¥æ–‡ä»¶
2. âœ… æ—¥å¿—æ–‡ä»¶è·¯å¾„é…ç½®é”™è¯¯
3. âœ… æ—¥å¿—ç›®å½• `logs/` ä¸å­˜åœ¨

**è§£å†³æ–¹æ³•**ï¼š

#### **A. æ£€æŸ¥æ—¥å¿—ç›®å½•æ˜¯å¦å­˜åœ¨**

```powershell
# æ£€æŸ¥ logs ç›®å½•
ls logs/

# å¦‚æœä¸å­˜åœ¨ï¼Œåˆ›å»ºå®ƒ
mkdir logs
```

#### **B. æ£€æŸ¥å®é™…çš„æ—¥å¿—æ–‡ä»¶ä½ç½®**

```powershell
# æŸ¥æ‰¾æ‰€æœ‰ .log æ–‡ä»¶
Get-ChildItem -Path . -Recurse -Filter "*.log" | Select-Object FullName
```

#### **C. ç›´æ¥æŸ¥çœ‹æ§åˆ¶å°è¾“å‡º**

å¦‚æœæ—¥å¿—æ–‡ä»¶ä¸å­˜åœ¨ï¼Œ**æœ€å¯é çš„æ–¹æ³•æ˜¯ç›´æ¥æŸ¥çœ‹ç»ˆç«¯**ã€‚

---

### **æ–¹æ³• 3ï¼šæœç´¢ç‰¹å®šå…³é”®è¯**

#### **æŸ¥æ‰¾å»¶è¿Ÿæ—¥å¿—**

```powershell
# å¦‚æœæ—¥å¿—æ–‡ä»¶å­˜åœ¨
Get-Content logs\flashloan-dryrun.log | Select-String "took.*ms"

# æŸ¥æ‰¾ç»Ÿè®¡æ±‡æ€»
Get-Content logs\flashloan-dryrun.log | Select-String "Latency Statistics"

# æŸ¥æ‰¾ Worker å¿ƒè·³ï¼ˆæŸ¥çœ‹ queriesTotalï¼‰
Get-Content logs\flashloan-dryrun.log | Select-String "Heartbeat"
```

---

## ğŸ“Š å¦‚ä½•è§£è¯»ç»Ÿè®¡æ•°æ®

### **1. å•æ¬¡æŸ¥è¯¢æ—¥å¿—**

```
[Worker 0] âœ… Quote outbound: So11...â†’USDC, took 120ms, got 9950000000
```

**å­—æ®µè¯´æ˜**ï¼š
- `Worker 0`: Worker çº¿ç¨‹ç¼–å·ï¼ˆ0, 1, 2ï¼‰
- `Quote outbound`: å»ç¨‹æŸ¥è¯¢ï¼ˆSOL â†’ æ¡¥æ¥ä»£å¸ï¼‰
- `So11...â†’USDC`: äº¤æ˜“å¯¹ï¼ˆSOL â†’ USDCï¼‰
- `took 120ms`: **å»¶è¿Ÿæ—¶é—´**ï¼ˆå…³é”®æŒ‡æ ‡ï¼ï¼‰
- `got 9950000000`: æŠ¥ä»·é‡‘é¢ï¼ˆ9.95 USDCï¼‰

**å»¶è¿ŸèŒƒå›´åˆ¤æ–­**ï¼š
| å»¶è¿Ÿ | çŠ¶æ€ | è¯´æ˜ |
|------|------|------|
| **50-200ms** | âœ… ä¼˜ç§€ | Quote API è¡¨ç°è‰¯å¥½ |
| **200-500ms** | âš ï¸ ä¸€èˆ¬ | ä»£ç†ç½‘ç»œæ³¢åŠ¨ |
| **500-1000ms** | âŒ è¾ƒå·® | ä»£ç†æ‹¥å¡ / API é™æµ |
| **>1000ms** | ğŸš¨ ä¸¥é‡ | TLS æ¡æ‰‹å¤±è´¥ / è¶…æ—¶ |

---

### **2. ç»Ÿè®¡æ±‡æ€»æ—¥å¿—**

```
[Worker 0] ğŸ“Š â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• Latency Statistics (Last 20 queries) â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
[Worker 0] ğŸ“Š Outbound (SOLâ†’Bridge): avg 125ms, min 95ms, max 180ms
[Worker 0] ğŸ“Š Return (Bridgeâ†’SOL):   avg 135ms, min 102ms, max 195ms
[Worker 0] ğŸ“Š Total per round:       avg 130ms (10 rounds, 20 queries)
[Worker 0] ğŸ“Š Opportunities found:   0
```

**æŒ‡æ ‡è¯´æ˜**ï¼š

#### **Outbound (SOLâ†’Bridge)**
- **avg 125ms**: å¹³å‡å»ç¨‹å»¶è¿Ÿ
- **min 95ms**: æœ€å¿«ä¸€æ¬¡æŸ¥è¯¢
- **max 180ms**: æœ€æ…¢ä¸€æ¬¡æŸ¥è¯¢

**é¢„æœŸ**ï¼š**~100-150ms**ï¼ˆQuote API ä¼˜åŒ–åï¼‰

#### **Return (Bridgeâ†’SOL)**
- **avg 135ms**: å¹³å‡å›ç¨‹å»¶è¿Ÿ
- **min 102ms**: æœ€å¿«ä¸€æ¬¡æŸ¥è¯¢
- **max 195ms**: æœ€æ…¢ä¸€æ¬¡æŸ¥è¯¢

**é¢„æœŸ**ï¼š**~100-150ms**ï¼ˆQuote API ä¼˜åŒ–åï¼‰

#### **Total per round**
- **avg 130ms**: ç»¼åˆå¹³å‡å»¶è¿Ÿï¼ˆå»ç¨‹ + å›ç¨‹çš„å¹³å‡ï¼‰
- **(10 rounds, 20 queries)**: å·²å®Œæˆ 10 è½®æ‰«æï¼Œ20 æ¬¡æŸ¥è¯¢

**ä¼˜åŒ–æ•ˆæœ**ï¼š
- **ä¼˜åŒ–å‰ï¼ˆUltra APIï¼‰**: ~500ms
- **ä¼˜åŒ–åï¼ˆQuote APIï¼‰**: ~130ms
- **æ”¹å–„**: **-74%** ğŸ‰

#### **Opportunities found**
- **0**: å‘ç°çš„å¥—åˆ©æœºä¼šæ•°é‡
- å¦‚æœä¸€ç›´æ˜¯ 0ï¼Œè¯´æ˜å½“å‰å¸‚åœºæ²¡æœ‰ç¬¦åˆæ¡ä»¶çš„å¥—åˆ©æœºä¼š

---

### **3. Worker å¿ƒè·³æ—¥å¿—**

```
[Worker 0] ğŸ’“ Heartbeat: 82 queries, 0 opportunities
```

**å…³é”®æŒ‡æ ‡**ï¼š
- **82 queries**: å·²å®Œæˆ 82 æ¬¡æŸ¥è¯¢ï¼ˆ**å¦‚æœæ˜¯ 0ï¼Œè¯´æ˜æ‰€æœ‰æŸ¥è¯¢éƒ½å¤±è´¥äº†ï¼**ï¼‰
- **0 opportunities**: å‘ç°çš„å¥—åˆ©æœºä¼šæ•°é‡

**ä¹‹å‰çš„é—®é¢˜**ï¼š
```
[Worker 0] ğŸ’“ Heartbeat: 0 queries, 0 opportunities  âŒ æ‰€æœ‰æŸ¥è¯¢å¤±è´¥ï¼
```

**ç°åœ¨åº”è¯¥çœ‹åˆ°**ï¼š
```
[Worker 0] ğŸ’“ Heartbeat: 20 queries, 0 opportunities  âœ… æŸ¥è¯¢æˆåŠŸï¼
```

---

## ğŸ¯ ç°åœ¨è¯·æ£€æŸ¥

### **1. æŸ¥çœ‹ç»ˆç«¯çª—å£**

ç›´æ¥æŸ¥çœ‹è¿è¡Œ Bot çš„ç»ˆç«¯ï¼Œåº”è¯¥èƒ½çœ‹åˆ°ï¼š

```
[Worker 0] âœ… Quote outbound: So11...â†’USDC, took XXXms, got XXXXXXXXXX
[Worker 0] âœ… Quote return: USDCâ†’So11..., took XXXms, got XXXXXXXXXX
```

### **2. ç­‰å¾…ç»Ÿè®¡æ±‡æ€»**

Bot è¿è¡Œçº¦ **30 ç§’å**ï¼ˆ10 è½®æ‰«æï¼‰ï¼Œåº”è¯¥ä¼šå‡ºç°ï¼š

```
[Worker 0] ğŸ“Š â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• Latency Statistics ...
```

### **3. éªŒè¯æŸ¥è¯¢æˆåŠŸ**

å…³é”®éªŒè¯ç‚¹ï¼š
- âœ… `took XXXms` æ—¥å¿—å‡ºç°äº†å—ï¼Ÿ
- âœ… `queriesTotal` ä¸å†æ˜¯ 0 äº†å—ï¼Ÿ
- âœ… å»¶è¿Ÿåœ¨ 100-200ms èŒƒå›´å†…å—ï¼Ÿ

---

## â“ å¦‚æœä»ç„¶çœ‹ä¸åˆ°å»¶è¿Ÿæ—¥å¿—

### **å¯èƒ½åŸå›  1ï¼šQuery API ä»ç„¶å¤±è´¥**

**ç—‡çŠ¶**ï¼š
- åªæœ‰ `ğŸš€ First query starting...`
- æ²¡æœ‰ `âœ… Quote outbound...` æˆ– `âœ… Quote return...`
- `Heartbeat: 0 queries`

**åŸå› **ï¼š
- Quote API æŸ¥è¯¢è¶…æ—¶
- ä»£ç†è¿æ¥å¤±è´¥
- API è¿”å›é”™è¯¯

**éªŒè¯æ–¹æ³•**ï¼š
```powershell
# æŸ¥çœ‹æ˜¯å¦æœ‰é”™è¯¯æ—¥å¿—
# ï¼ˆåœ¨ç»ˆç«¯æˆ–æ—¥å¿—æ–‡ä»¶ä¸­æœç´¢ "error", "timeout", "failed"ï¼‰
```

### **å¯èƒ½åŸå›  2ï¼šä»£ç†é—®é¢˜**

**æµ‹è¯•ä»£ç†**ï¼š
```powershell
# æµ‹è¯•ä»£ç†æ˜¯å¦å¯è¾¾
curl -x http://127.0.0.1:7890 https://quote-api.jup.ag/v6/quote?inputMint=So11111111111111111111111111111111111111112&outputMint=EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v&amount=1000000000
```

---

## ğŸ“ é¢„æœŸçš„å®Œæ•´æ—¥å¿—æµç¨‹

```
1. Bot å¯åŠ¨
   âœ… [NetworkConfig] Global proxy configured: http://127.0.0.1:7890
   âœ… Opportunity Finder initialized: 3 workers

2. Worker é¢„çƒ­
   âœ… [Worker 0] ğŸ”¥ Warming up connections via Lite API (TLS stable)...
   âœ… [Worker 0] âœ… Connection warmup completed successfully (Lite API)

3. Worker å¼€å§‹æ‰«æ
   âœ… [Worker 0] ğŸ”„ Starting scan round 1...
   âœ… [Worker 0] ğŸš€ First query starting...
   
4. æŸ¥è¯¢å»¶è¿Ÿæ—¥å¿—ï¼ˆâ­ å…³é”®ï¼ï¼‰
   âœ… [Worker 0] âœ… Quote outbound: So11...â†’USDC, took 120ms, got 9950000000
   âœ… [Worker 0] âœ… Quote return: USDCâ†’So11..., took 128ms, got 9920000000

5. ç»Ÿè®¡æ±‡æ€»ï¼ˆæ¯ 10 è½®ï¼‰
   âœ… [Worker 0] ğŸ“Š â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• Latency Statistics ...
   âœ… [Worker 0] ğŸ“Š Outbound (SOLâ†’Bridge): avg 125ms, min 95ms, max 180ms
   âœ… [Worker 0] ğŸ“Š Return (Bridgeâ†’SOL):   avg 135ms, min 102ms, max 195ms
```

---

**ç°åœ¨è¯·æŸ¥çœ‹ç»ˆç«¯çª—å£ï¼Œç¡®è®¤æ˜¯å¦çœ‹åˆ° `took XXXms` æ—¥å¿—ï¼** ğŸš€

