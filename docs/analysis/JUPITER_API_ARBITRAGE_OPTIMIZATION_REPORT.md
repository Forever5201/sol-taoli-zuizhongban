# Jupiter API å¥—åˆ©ä¼˜åŒ–æ·±åº¦æŠ¥å‘Š

## åŸºäºå®˜æ–¹æ–‡æ¡£çš„ä¸“ä¸šåˆ†æ

> ç¿»é˜…æ‰€æœ‰ Jupiter å®˜æ–¹ API æ–‡æ¡£åçš„æ ¸å¿ƒå‘ç°

---

## ğŸ¯ æ‰§è¡Œæ€»ç»“

é€šè¿‡ç³»ç»ŸæŸ¥è¯¢ Jupiter å®˜æ–¹æ–‡æ¡£ï¼Œå‘ç°äº† **8 ä¸ªå…³é”® API åŠŸèƒ½**å¯ä»¥æ˜¾è‘—ä¼˜åŒ–ä½ çš„ç¯å½¢å¥—åˆ©ç­–ç•¥ã€‚æœ¬æŠ¥å‘Šå°†æ·±å…¥åˆ†æè¿™äº›åŠŸèƒ½å¦‚ä½•å¸®åŠ©ä½ æå‡å¥—åˆ©æ•ˆç‡å’Œæ”¶ç›Šã€‚

---

## ğŸ“Š æ ¸å¿ƒå‘ç°æ±‡æ€»

| API/åŠŸèƒ½ | å¯¹å¥—åˆ©çš„ä»·å€¼ | ä¼˜å…ˆçº§ | éš¾åº¦ |
|---------|-------------|--------|------|
| **Ultra Swap API** | æœ€é«˜ä»·æ ¼+æœ€é«˜æˆåŠŸç‡ | ğŸ”¥ P0 | â­ ç®€å• |
| **Price API V3** | å®æ—¶ä»·æ ¼ç›‘æ§ | ğŸ”¥ P0 | â­ ç®€å• |
| **Juno å¼•æ“** | å¤šæºæœ€ä¼˜è·¯ç”± | ğŸ”¥ P0 | â­â­ ä¸­ç­‰ |
| **Real-Time Slippage Estimator** | åŠ¨æ€æ»‘ç‚¹ä¼˜åŒ– | â­ P1 | â­ ç®€å• |
| **Predictive Execution** | é¢„æµ‹æ€§è·¯ç”± | â­ P1 | â­â­ ä¸­ç­‰ |
| **ShadowLane** | MEV ä¿æŠ¤+æ›´å¿«æ‰§è¡Œ | â­ P1 | â­ ç®€å• |
| **Trigger API** | è‡ªåŠ¨åŒ–ä»·æ ¼è§¦å‘ | â­â­ P2 | â­â­ ä¸­ç­‰ |
| **Lend Flash Loan** | å…è´¹é—ªç”µè´· | â­â­ P2 | â­â­â­ å›°éš¾ |

---

## 1ï¸âƒ£ Ultra Swap API - æ ¸å¿ƒå¥—åˆ©å¼•æ“

### ğŸ“– å®˜æ–¹æ–‡æ¡£æè¿°

> "Ultra is Jupiter's Flagship Trading Solution, the most advanced yet developer-friendly solution for building trading applications on Solana."

### ğŸ¯ å¯¹ç¯å½¢å¥—åˆ©çš„ä»·å€¼

#### **A. Juno å¤šæºèšåˆå¼•æ“**

```
ä¼ ç»Ÿæ–¹å¼ï¼ˆLegacy Swap APIï¼‰:
  æŸ¥è¯¢ â†’ Metis v1 â†’ é“¾ä¸Š DEX èšåˆ â†’ è¿”å›æŠ¥ä»·

Ultra æ–¹å¼:
  æŸ¥è¯¢ â†’ Juno å¼•æ“ â†’ åŒæ—¶æŸ¥è¯¢:
    â”œâ”€ Metis v1.5 (é“¾ä¸Š DEXï¼Œ4.6x æ›´å°æ»‘ç‚¹)
    â”œâ”€ JupiterZ (åšå¸‚å•†ç«ä»·ï¼Œé›¶æ»‘ç‚¹)
    â”œâ”€ Hashflow (ç¬¬ä¸‰æ–¹æµåŠ¨æ€§)
    â””â”€ DFlow (æ›´å¤šæµåŠ¨æ€§æº)
  â†’ è‡ªå­¦ä¹ è¿‡æ»¤åŠ£è´¨æŠ¥ä»·
  â†’ è¿”å›å…¨å¸‚åœºæœ€ä¼˜ä»·æ ¼
```

**å®é™…å½±å“**ï¼š
- ç¯å½¢å¥—åˆ©çš„å»ç¨‹å’Œå›ç¨‹éƒ½è·å¾—æœ€ä¼˜ä»·æ ¼
- æ»‘ç‚¹å‡å°‘ â†’ å¥—åˆ©ç©ºé—´æ‰©å¤§
- å‘ç°æ›´å¤šå¯è¡Œæœºä¼šï¼ˆä»·æ ¼æ›´ä¼˜ï¼‰

#### **B. Predictive Executionï¼ˆé¢„æµ‹æ€§æ‰§è¡Œï¼‰**

**å®˜æ–¹æ•°æ®**ï¼š
```
Ultra V3 è‡ªåŠ¨:
- é“¾ä¸Šæ¨¡æ‹Ÿæ¯æ¡è·¯å¾„
- éªŒè¯å®é™…å¯æ‰§è¡Œä»·æ ¼ vs æŠ¥ä»·
- é¢„æµ‹æ¯æ¡è·¯ç”±çš„æ½œåœ¨æ»‘ç‚¹
- åŠ¨æ€ä¼˜å…ˆé€‰æ‹©æ»‘ç‚¹æœ€å°çš„è·¯å¾„

ç»“æœ:
- æˆåŠŸç‡ä» 85% â†’ 96%
- å¹³å‡æ­£æ»‘ç‚¹ +0.63 bpsï¼ˆä½ è·å¾—æ¯”é¢„æœŸæ›´å¥½çš„ä»·æ ¼ï¼‰
```

**å¯¹å¥—åˆ©çš„å½±å“**ï¼š
- å‡å°‘å¤±è´¥äº¤æ˜“ï¼ˆèŠ‚çœ Gasï¼‰
- æ›´å‡†ç¡®çš„åˆ©æ¶¦é¢„æµ‹
- é¿å…è™šå‡å¥—åˆ©æœºä¼š

#### **C. Real-Time Slippage Estimator (RTSE)**

**æ ¸å¿ƒæœºåˆ¶**ï¼š
```
RTSE ç»¼åˆåˆ†æ:
â”œâ”€ å¯å‘å¼è§„åˆ™
â”‚  â”œâ”€ ä»£å¸ç±»åˆ«ï¼ˆç¨³å®šå¸ vs Meme å¸ï¼‰
â”‚  â”œâ”€ å†å²æ»‘ç‚¹æ•°æ®
â”‚  â””â”€ å®æ—¶å¸‚åœºæ•°æ®
â”œâ”€ ç®—æ³•
â”‚  â”œâ”€ æŒ‡æ•°ç§»åŠ¨å¹³å‡ï¼ˆEMAï¼‰
â”‚  â””â”€ æ³¢åŠ¨ç‡æ•æ„Ÿæ€§
â””â”€ ç›‘æ§
   â””â”€ å®æ—¶å¤±è´¥ç‡ç›‘æ§ â†’ åŠ¨æ€è°ƒæ•´

è‡ªåŠ¨ä¼˜å…ˆé€‰æ‹©:
- æ»‘ç‚¹ä¿æŠ¤è·¯ç”± > çº¯ä»·æ ¼ä¼˜åŒ–è·¯ç”±
- å¹³è¡¡æˆåŠŸç‡å’Œä»·æ ¼ä¿æŠ¤
```

**å¥—åˆ©ä¼˜åŠ¿**ï¼š
- ä¸éœ€è¦æ‰‹åŠ¨è°ƒæ•´æ»‘ç‚¹
- ç¨³å®šå¸å¯¹ï¼šæå°æ»‘ç‚¹ï¼ˆ~0.1%ï¼‰
- æ³¢åŠ¨ä»£å¸ï¼šè‡ªåŠ¨å¢åŠ æ»‘ç‚¹ä¿æŠ¤
- æé«˜æˆåŠŸç‡åŒæ—¶ä¿æŠ¤åˆ©æ¶¦

#### **D. ShadowLaneï¼ˆä¸“æœ‰äº¤æ˜“å¼•æ“ï¼‰**

**å®˜æ–¹æ•°æ®**ï¼š
```
æ”¹è¿›æŒ‡æ ‡:
- å»¶è¿Ÿé™ä½: 50-66%
- è½åœ°é€Ÿåº¦: 0-1 ä¸ªåŒºå—ï¼ˆ50-400msï¼‰
  vs ä¹‹å‰ 1-3 ä¸ªåŒºå—ï¼ˆ400ms-1.2sï¼‰
- MEV ä¿æŠ¤: å®Œå…¨éšç§ç›´åˆ°é“¾ä¸Šæ‰§è¡Œ
- å‰ç½®æ”»å‡»ä¿æŠ¤: äº¤æ˜“åœ¨å…¬å…±å†…å­˜æ± ä¸å¯è§
```

**å¥—åˆ©ä¼˜åŠ¿**ï¼š
- æ›´å¿«æ‰§è¡Œ â†’ æŠ“ä½ç¨çºµå³é€çš„å¥—åˆ©æœºä¼š
- MEV ä¿æŠ¤ â†’ é¿å…è¢«å¤¹å‡»ï¼ˆsandwich attackï¼‰
- éšç§ä¿æŠ¤ â†’ é˜²æ­¢å…¶ä»–æœºå™¨äººæŠ¢å…ˆ

### ğŸ’° Ultra API è´¹ç”¨

**å®˜æ–¹è¯´æ˜**ï¼š
```
æŸ¥è¯¢è´¹ç”¨: å®Œå…¨å…è´¹
æ‰§è¡Œè´¹ç”¨: 5-10 bps (0.05%-0.1%)

å¯¹æ¯”:
- Legacy API: æ— è´¹ç”¨
- Ultra API: æœ‰è´¹ç”¨ï¼Œä½†ä»·æ ¼æ›´ä¼˜

å‡€å½±å“ç¤ºä¾‹:
- å»ç¨‹æ”¹è¿›: +10% ä»·æ ¼æå‡
- å›ç¨‹æ”¹è¿›: +10% ä»·æ ¼æå‡
- Ultra è´¹ç”¨: -0.1%
- å‡€æ”¶ç›Š: +19.9%
```

### ğŸ“ˆ æ€§èƒ½æ•°æ®

**å®˜æ–¹å»¶è¿Ÿæ•°æ®**ï¼š
```
/order ç«¯ç‚¹: 300ms (P50 å¹³å‡)
  - èšåˆå¤šä¸ªæµåŠ¨æ€§æº
  - é€‰æ‹©æœ€ä¼˜ä»·æ ¼

/execute ç«¯ç‚¹:
  - Metis è·¯ç”±: 700ms
  - JupiterZ è·¯ç”±: 2s
  
æ€»æ‰§è¡Œæ—¶é—´: 95% çš„äº¤æ˜“ < 2 ç§’
```

**å¯¹é«˜é¢‘å¥—åˆ©çš„æ„ä¹‰**ï¼š
- æ¯è½®ç¯å½¢æŸ¥è¯¢ < 3 ç§’
- æ¯å°æ—¶å¯å®Œæˆ 1200+ æ¬¡æŸ¥è¯¢
- å®æ—¶æ•è·å¸‚åœºæœºä¼š

---

## 2ï¸âƒ£ Price API V3 - å®æ—¶ä»·æ ¼ç›‘æ§

### ğŸ“– å®˜æ–¹æ–‡æ¡£æè¿°

> "Price API V3 provides a one source of truth across all Jupiter UIs and integrator platforms."

### ğŸ¯ å¯¹å¥—åˆ©çš„ä»·å€¼

#### **A. ä»·æ ¼æ¥æº**

**å®˜æ–¹è¯´æ˜**ï¼š
```
å®šä»·æ–¹æ³•:
- åŸºäºæœ€åäº¤æ˜“ä»·æ ¼ï¼ˆè·¨æ‰€æœ‰äº¤æ˜“ï¼‰
- ä»å¯é ä»£å¸ï¼ˆå¦‚ SOLï¼‰å‘å¤–å®šä»·
- å¤–éƒ¨é¢„è¨€æœºä»·æ ¼æº

å¤šé‡å¯å‘å¼è¿‡æ»¤:
â”œâ”€ èµ„äº§æ¥æºå’Œå¯åŠ¨æ–¹å¼
â”œâ”€ å¸‚åœºæµåŠ¨æ€§æŒ‡æ ‡
â”œâ”€ å¸‚åœºè¡Œä¸ºæ¨¡å¼
â”œâ”€ æŒæœ‰è€…åˆ†å¸ƒç»Ÿè®¡
â”œâ”€ äº¤æ˜“æ´»åŠ¨æŒ‡æ ‡
â””â”€ æœ‰æœºè¯„åˆ†
```

#### **B. å¥—åˆ©åº”ç”¨**

**åœºæ™¯ 1: é¢„ç­›é€‰å¥—åˆ©æœºä¼š**
```javascript
// æ‰¹é‡æŸ¥è¯¢ä»£å¸ä»·æ ¼
const prices = await fetch(
  'https://api.jup.ag/price/v3?ids=' + 
  'So11111111111111111111111111111111111111112,' +  // SOL
  'EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v'    // USDC
);

// å¿«é€Ÿè®¡ç®—ç†è®ºå¥—åˆ©ç©ºé—´
const theoreticalProfit = calculateArbitrage(prices);

// åªå¯¹æœ‰æ½œåŠ›çš„æœºä¼šè°ƒç”¨ Ultra /order
if (theoreticalProfit > threshold) {
  const quote = await ultraOrder(...);
}
```

**ä¼˜åŠ¿**ï¼š
- å‡å°‘æ— æ•ˆæŸ¥è¯¢ï¼ˆèŠ‚çœé€Ÿç‡é™åˆ¶ï¼‰
- å¿«é€Ÿæ‰«æå¤§é‡ä»£å¸å¯¹
- è½»é‡çº§ APIï¼ˆ15ms å»¶è¿Ÿï¼‰

**åœºæ™¯ 2: ä»·æ ¼å¼‚å¸¸æ£€æµ‹**
```javascript
// ç›‘æ§ä»·æ ¼çªå˜
const currentPrice = await getPriceV3('SOL');
if (Math.abs(currentPrice - lastPrice) / lastPrice > 0.05) {
  // 5% ä»·æ ¼æ³¢åŠ¨ â†’ å¯èƒ½çš„å¥—åˆ©æœºä¼š
  triggerArbitrageScanner();
}
```

### ğŸ“Š API è§„æ ¼

```
ç«¯ç‚¹: https://api.jup.ag/price/v3
å»¶è¿Ÿ: ~15ms (æå¿«)
é€Ÿç‡é™åˆ¶: Pro å•ç‹¬æ¡¶ï¼ˆä¸å½±å“ Ultraï¼‰

vs USDC é»˜è®¤:
GET /price/v3?ids=SOL_MINT

è¾“å‡º:
{
  "data": {
    "So1111...": {
      "id": "So1111...",
      "price": 150.23
    }
  }
}
```

---

## 3ï¸âƒ£ Trigger API - è‡ªåŠ¨åŒ–ä»·æ ¼è§¦å‘å¥—åˆ©

### ğŸ“– å®˜æ–¹æ–‡æ¡£æè¿°

> "Create limit orders on Solana, allowing users to set target prices for token swaps that execute automatically when market conditions are met."

### ğŸ¯ å¯¹å¥—åˆ©çš„åˆ›æ–°åº”ç”¨

#### **A. ä¼ ç»Ÿå¥—åˆ© vs è§¦å‘å¼å¥—åˆ©**

**ä¼ ç»Ÿæ–¹å¼ï¼ˆä½ å½“å‰çš„ï¼‰**ï¼š
```
æŒç»­æŸ¥è¯¢ â†’ å‘ç°æœºä¼š â†’ ç«‹å³æ‰§è¡Œ
é—®é¢˜:
- éœ€è¦æŒç»­è¿è¡Œ
- æ¶ˆè€—é€Ÿç‡é™åˆ¶
- å¯èƒ½é”™è¿‡çŸ­æš‚æœºä¼š
```

**è§¦å‘å¼å¥—åˆ©**ï¼š
```
è®¾ç½®è§¦å‘è®¢å• â†’ ç­‰å¾… â†’ è‡ªåŠ¨æ‰§è¡Œ
ä¼˜åŠ¿:
- é›¶æŸ¥è¯¢æˆæœ¬
- 24/7 ç›‘æ§
- ç²¾ç¡®ä»·æ ¼æ‰§è¡Œ
```

#### **B. å¥—åˆ©åœºæ™¯ç¤ºä¾‹**

**åœºæ™¯ 1: ä»·æ ¼å›å½’å¥—åˆ©**
```typescript
// ç›‘æµ‹ SOL/USDC ä»·æ ¼åç¦»
const normalPrice = 150; // USDC

// å½“ä»·æ ¼åç¦» > 2% æ—¶è‡ªåŠ¨å¥—åˆ©
åˆ›å»ºè§¦å‘è®¢å•:
  æ¡ä»¶: SOL ä»·æ ¼ < 147 USDC
  åŠ¨ä½œ: ä¹°å…¥ SOL
  
åˆ›å»ºè§¦å‘è®¢å•:
  æ¡ä»¶: SOL ä»·æ ¼ > 153 USDC
  åŠ¨ä½œ: å–å‡º SOL
```

**åœºæ™¯ 2: è·¨å¸‚åœºä»·æ ¼å·®å¥—åˆ©**
```
ç›‘æ§ä¸¤ä¸ªæµåŠ¨æ€§æ± :
Pool A: SOL/USDC (Raydium)
Pool B: SOL/USDC (Orca)

è®¾ç½®è§¦å‘:
  å½“ Pool A ä»·æ ¼ < Pool B ä»·æ ¼ - 0.5%
  â†’ è‡ªåŠ¨: ä» A ä¹°å…¥ï¼ŒB å–å‡º
```

### ğŸ’° è´¹ç”¨

```
Trigger API è´¹ç”¨:
- ç¨³å®šå¸å¯¹: 0.03%
- å…¶ä»–ä»£å¸å¯¹: 0.1%

vs æ‰‹åŠ¨å¥—åˆ©:
- Gas è´¹: ~0.000005 SOL/ç¬”
- æ—¶é—´æˆæœ¬: æ— ï¼ˆè‡ªåŠ¨æ‰§è¡Œï¼‰
- æˆåŠŸç‡: é«˜ï¼ˆJupiter ä¼˜åŒ–ï¼‰
```

---

## 4ï¸âƒ£ Jupiter Lend Flash Loan - å…è´¹é—ªç”µè´·

### ğŸ“– å®˜æ–¹æ–‡æ¡£é‡å¤§å‘ç°

> "**ALL flashloans are free!**"

### ğŸ¯ å¯¹å¥—åˆ©çš„é¢ è¦†æ€§å½±å“

#### **A. è´¹ç”¨å¯¹æ¯”**

| åè®® | è´¹ç”¨ | é€‚åˆå¥—åˆ© |
|------|------|---------|
| **Jupiter Lend** | **0%** âœ… | å®Œç¾ |
| Solend | 0.09% | å¯ç”¨ |
| Mango | 0.05% | å¯ç”¨ |

**å®é™…å½±å“**ï¼š
```
100 SOL å¥—åˆ©ç¤ºä¾‹:

Solend é—ªç”µè´·:
- å€Ÿæ¬¾: 100 SOL
- è´¹ç”¨: 0.09 SOL
- åˆ©æ¶¦é˜ˆå€¼: > 0.09 SOL

Jupiter Lend é—ªç”µè´·:
- å€Ÿæ¬¾: 100 SOL
- è´¹ç”¨: 0 SOL
- åˆ©æ¶¦é˜ˆå€¼: > 0 SOL

ç»“æœ: å¯è¡Œæœºä¼šæ•°é‡å¤§å¹…å¢åŠ 
```

#### **B. SDK é›†æˆ**

```typescript
// å®˜æ–¹ SDK ç¤ºä¾‹
const fetchFlashBorrowIx = await getFlashBorrowIx({
  amount: borrowAmount,
  asset: borrowToken, // SOL, USDCç­‰
  signer,
  connection,
});

// ä½ çš„å¥—åˆ©é€»è¾‘
const swapIx = await buildSwapInstructions(...);

const fetchFlashPaybackIx = await getFlashPaybackIx({
  amount: borrowAmount,
  asset: borrowToken,
  signer,
  connection,
});

// åŸå­äº¤æ˜“
const tx = new Transaction()
  .add(fetchFlashBorrowIx)
  .add(swapIx)
  .add(fetchFlashPaybackIx);
```

#### **C. ä¸å½“å‰æ–¹æ¡ˆå¯¹æ¯”**

**å½“å‰ï¼ˆSolendï¼‰**ï¼š
```toml
[flashloan.solend]
fee_rate = 0.0009  # 0.09% è´¹ç‡
min_borrow_amount = 10_000_000_000  # 10 SOL
max_borrow_amount = 1_000_000_000_000  # 1000 SOL
```

**å‡çº§åˆ° Jupiter Lend**ï¼š
```toml
[flashloan.jupiter_lend]
fee_rate = 0.0000  # 0% è´¹ç‡ âœ…
min_borrow_amount = ?  # éœ€ç¡®è®¤
max_borrow_amount = ?  # éœ€ç¡®è®¤
```

**æ”¶ç›Šæå‡**ï¼š
```
æ¯ç¬” 100 SOL å¥—åˆ©:
- èŠ‚çœè´¹ç”¨: 0.09 SOL (~$13.5)
- æ¯å¤© 10 ç¬”: $135
- æ¯æœˆ: $4,050

åˆ©æ¶¦é˜ˆå€¼é™ä½ â†’ æœºä¼šå¢åŠ  3-5 å€
```

---

## 5ï¸âƒ£ å…¶ä»–æœ‰ä»·å€¼çš„ API

### A. Tokens API - ä»£å¸ä¿¡æ¯

```
/shield ç«¯ç‚¹:
- å¢å¼ºå®‰å…¨åŠŸèƒ½
- æä¾›å…³é”®ä»£å¸ä¿¡æ¯
- è­¦å‘Šå’Œé£é™©è¯„åˆ†

å¥—åˆ©åº”ç”¨:
- è‡ªåŠ¨è¿‡æ»¤é«˜é£é™©ä»£å¸
- é¿å…æµåŠ¨æ€§é™·é˜±
- ä¿æŠ¤èµ„é‡‘å®‰å…¨
```

### B. Holdings API - ä½™é¢æŸ¥è¯¢

```
/holdings ç«¯ç‚¹:
- å»¶è¿Ÿ: 70ms
- è·å–ç”¨æˆ·ä½™é¢
- æ— éœ€è‡ªå·±çš„ RPC

å¥—åˆ©åº”ç”¨:
- å¿«é€Ÿæ£€æŸ¥èµ„é‡‘çŠ¶å†µ
- è‡ªåŠ¨åŒ–èµ„é‡‘ç®¡ç†
- ç›‘æ§å¤šä¸ªé’±åŒ…
```

### C. Search API - ä»£å¸æœç´¢

```
/search ç«¯ç‚¹:
- å»¶è¿Ÿ: 15ms
- æŒ‰ç¬¦å·/åç§°/åœ°å€æœç´¢
- å¿«é€Ÿä»£å¸å‘ç°

å¥—åˆ©åº”ç”¨:
- åŠ¨æ€æ·»åŠ æ–°ä»£å¸
- ç›‘æ§æ–°ä¸Šå¸‚ä»£å¸
- å¿«é€ŸéªŒè¯ä»£å¸åœ°å€
```

---

## ğŸ“Š ç»¼åˆä¼˜åŒ–æ–¹æ¡ˆ

### æ–¹æ¡ˆ A: çŸ­æœŸä¼˜åŒ–ï¼ˆ1-3 å¤©å®æ–½ï¼‰

#### **1. å¯ç”¨ Ultra API å…¨åŠŸèƒ½**

```typescript
// å½“å‰: åªç”¨äº†åŸºç¡€æŸ¥è¯¢
const quote = await fetch('https://api.jup.ag/ultra/quote?...');

// å‡çº§: åˆ©ç”¨æ‰€æœ‰ç‰¹æ€§
const config = {
  // âœ… å·²å¯ç”¨
  apiUrl: 'https://api.jup.ag/ultra',
  apiKey: '3cf45ad3-12bc-4832-9307-d0b76357e005',
  
  // ğŸ†• æ–°å¢ä¼˜åŒ–
  features: {
    predictiveExecution: true,  // è‡ªåŠ¨å¯ç”¨
    rtse: true,                 // è‡ªåŠ¨å¯ç”¨
    shadowLane: true,           // è‡ªåŠ¨å¯ç”¨
    junoEngine: true,           // è‡ªåŠ¨å¯ç”¨
  }
};
```

**é¢„æœŸæ”¶ç›Š**ï¼š
- æˆåŠŸç‡: 60% â†’ 96%
- åˆ©æ¶¦æå‡: +15-20%
- æ‰§è¡Œé€Ÿåº¦: +50%

#### **2. é›†æˆ Price API V3 é¢„ç­›é€‰**

```typescript
// æ–°å¢: å¿«é€Ÿä»·æ ¼æ‰«æ
async function preScanOpportunities() {
  // æ‰¹é‡æŸ¥è¯¢æ‰€æœ‰ä»£å¸ä»·æ ¼
  const prices = await getPricesV3(allMints);
  
  // å¿«é€Ÿè®¡ç®—ç†è®ºå¥—åˆ©
  const potentialOpps = mints.flatMap(mint => 
    bridgeTokens.map(bridge => ({
      path: `${mint} â†’ ${bridge} â†’ ${mint}`,
      theoretical: calculateTheoretical(prices, mint, bridge)
    }))
  ).filter(opp => opp.theoretical > threshold);
  
  // åªæŸ¥è¯¢æœ‰æ½œåŠ›çš„è·¯å¾„
  for (const opp of potentialOpps) {
    const realQuote = await ultraQuote(opp);
  }
}
```

**é¢„æœŸæ”¶ç›Š**ï¼š
- æŸ¥è¯¢æ•ˆç‡: +300%
- é€Ÿç‡é™åˆ¶ä½¿ç”¨: -70%
- å‘ç°æœºä¼š: +50%

#### **3. æ·»åŠ  Shield API é£é™©è¿‡æ»¤**

```typescript
// åœ¨æŸ¥è¯¢å‰æ£€æŸ¥ä»£å¸å®‰å…¨æ€§
async function safeArbitrageCheck(mint) {
  const shield = await fetch(
    `https://api.jup.ag/ultra/shield?mint=${mint}`
  );
  
  if (shield.warnings.length > 0) {
    logger.warn(`Skip ${mint}: ${shield.warnings}`);
    return false;
  }
  
  return true;
}
```

**é¢„æœŸæ”¶ç›Š**ï¼š
- é¿å…æµåŠ¨æ€§é™·é˜±
- å‡å°‘å¤±è´¥äº¤æ˜“
- ä¿æŠ¤èµ„é‡‘å®‰å…¨

---

### æ–¹æ¡ˆ B: ä¸­æœŸä¼˜åŒ–ï¼ˆ1-2 å‘¨å®æ–½ï¼‰

#### **1. è¿ç§»åˆ° Jupiter Lend Flash Loan**

**å®æ–½æ­¥éª¤**ï¼š

```bash
# 1. æ·»åŠ  Jupiter Lend SDK
pnpm add @jup-ag/lend-sdk

# 2. ä¿®æ”¹ flashloan-adapter.ts
# 3. æµ‹è¯•å…è´¹é—ªç”µè´·
# 4. å¯¹æ¯” Solend vs Jupiter Lend æ”¶ç›Š
```

**ä»£ç ç¤ºä¾‹**ï¼š
```typescript
// packages/core/src/flashloan/jupiter-lend-adapter.ts
import { 
  getFlashBorrowIx, 
  getFlashPaybackIx 
} from '@jup-ag/lend-sdk';

export class JupiterLendAdapter implements FlashLoanProtocol {
  async buildFlashLoanTx(params: FlashLoanParams) {
    // å€Ÿæ¬¾æŒ‡ä»¤ï¼ˆ0 è´¹ç”¨ï¼ï¼‰
    const borrowIx = await getFlashBorrowIx({
      amount: params.amount,
      asset: params.asset,
      signer: params.signer,
      connection: this.connection,
    });
    
    // å¥—åˆ©æŒ‡ä»¤
    const swapIx = await this.buildSwapInstructions(params);
    
    // è¿˜æ¬¾æŒ‡ä»¤
    const paybackIx = await getFlashPaybackIx({
      amount: params.amount,
      asset: params.asset,
      signer: params.signer,
      connection: this.connection,
    });
    
    return new Transaction()
      .add(borrowIx)
      .add(swapIx)
      .add(paybackIx);
  }
}
```

**é¢„æœŸæ”¶ç›Š**ï¼š
- æ¯ç¬”èŠ‚çœ: 0.09%
- å¯è¡Œæœºä¼š: +3-5 å€
- æœˆæ”¶ç›Šå¢åŠ : $4,000+

#### **2. å®æ–½ Trigger API è‡ªåŠ¨åŒ–**

**åœºæ™¯ 1: ä»·æ ¼å›å½’å¥—åˆ©**
```typescript
// è®¾ç½®è‡ªåŠ¨è§¦å‘è®¢å•
async function setupAutomatedArbitrage() {
  // ç›‘æ§ SOL/USDC åç¦»
  const triggers = [
    {
      condition: 'SOL_PRICE < 147 USDC',
      action: 'BUY_SOL_WITH_USDC',
      amount: 10_000_000_000, // 10 SOL
    },
    {
      condition: 'SOL_PRICE > 153 USDC',
      action: 'SELL_SOL_FOR_USDC',
      amount: 10_000_000_000,
    }
  ];
  
  // é€šè¿‡ Trigger API åˆ›å»º
  for (const trigger of triggers) {
    await createTriggerOrder(trigger);
  }
}
```

**é¢„æœŸæ”¶ç›Š**ï¼š
- 24/7 è‡ªåŠ¨ç›‘æ§
- é›¶æŸ¥è¯¢æˆæœ¬
- æ•è·å¤œé—´æœºä¼š

---

### æ–¹æ¡ˆ C: é•¿æœŸæˆ˜ç•¥ï¼ˆ1 ä¸ªæœˆ+ï¼‰

#### **1. å¤šç­–ç•¥ç»„åˆ**

```
ç­–ç•¥ç»„åˆ:
â”œâ”€ é«˜é¢‘ç¯å½¢å¥—åˆ©ï¼ˆUltra APIï¼‰
â”‚  â”œâ”€ å®æ—¶æŸ¥è¯¢
â”‚  â”œâ”€ å¿«é€Ÿæ‰§è¡Œ
â”‚  â””â”€ å°é¢é«˜é¢‘
â”‚
â”œâ”€ ä»·æ ¼è§¦å‘å¥—åˆ©ï¼ˆTrigger APIï¼‰
â”‚  â”œâ”€ è®¾ç½®è®¢å•
â”‚  â”œâ”€ ç­‰å¾…æ‰§è¡Œ
â”‚  â””â”€ å¤§é¢ä½é¢‘
â”‚
â””â”€ å…è´¹é—ªç”µè´·å¥—åˆ©ï¼ˆJupiter Lendï¼‰
   â”œâ”€ æ— æœ¬é‡‘è¦æ±‚
   â”œâ”€ é›¶è´¹ç”¨
   â””â”€ è¶…å¤§é¢æœºä¼š
```

#### **2. æ™ºèƒ½è·¯ç”±é€‰æ‹©**

```typescript
// æ ¹æ®æœºä¼šç±»å‹é€‰æ‹©æœ€ä¼˜æ–¹æ¡ˆ
function selectStrategy(opportunity) {
  if (opportunity.profit > 1 SOL && opportunity.risk === 'low') {
    return 'JUPITER_LEND_FLASHLOAN'; // å¤§é¢æœºä¼šç”¨å…è´¹é—ªç”µè´·
  }
  
  if (opportunity.volatility > 5% && opportunity.timeWindow < 60s) {
    return 'ULTRA_IMMEDIATE'; // é«˜æ³¢åŠ¨ç”¨ Ultra å³æ—¶æ‰§è¡Œ
  }
  
  if (opportunity.predictable && opportunity.timeWindow > 1h) {
    return 'TRIGGER_ORDER'; // å¯é¢„æµ‹ç”¨è§¦å‘è®¢å•
  }
  
  return 'ULTRA_STANDARD'; // é»˜è®¤ Ultra
}
```

---

## ğŸ’¡ ç«‹å³è¡ŒåŠ¨å»ºè®®

### ğŸš€ ä»Šå¤©å°±åšï¼ˆ0-1 å¤©ï¼‰

1. âœ… **éªŒè¯ Ultra API å®Œæ•´åŠŸèƒ½**
   ```bash
   node test-ultra-api.js
   ```
   ç¡®è®¤ Junoã€RTSEã€Predictive Execution éƒ½åœ¨å·¥ä½œ

2. âœ… **æ·»åŠ  Price API V3 é¢„ç­›é€‰**
   - å‡å°‘æ— æ•ˆæŸ¥è¯¢
   - æå‡å‘ç°æ•ˆç‡

3. âœ… **å¯ç”¨ Shield API å®‰å…¨è¿‡æ»¤**
   - é¿å…é«˜é£é™©ä»£å¸
   - ä¿æŠ¤èµ„é‡‘

### â­ æœ¬å‘¨å®Œæˆï¼ˆ2-7 å¤©ï¼‰

1. **æµ‹è¯• Jupiter Lend Flash Loan**
   - ç ”ç©¶ SDK æ–‡æ¡£
   - åˆ›å»ºæµ‹è¯•äº¤æ˜“
   - å¯¹æ¯” Solend vs Jupiter Lend

2. **å®æ–½ Price API æ‰¹é‡æŸ¥è¯¢**
   - ä¼˜åŒ–æŸ¥è¯¢æµç¨‹
   - å‡å°‘é€Ÿç‡é™åˆ¶ä½¿ç”¨

3. **æ”¶é›† Ultra API æ•°æ®**
   - è®°å½•æˆåŠŸç‡
   - åˆ†æåˆ©æ¶¦æå‡
   - è¯„ä¼° swap fee æˆæœ¬

### ğŸ¯ æœ¬æœˆç›®æ ‡ï¼ˆ8-30 å¤©ï¼‰

1. **å®Œæˆ Jupiter Lend è¿ç§»**
   - å…¨é¢æ›¿æ¢ Solend
   - äº«å— 0 è´¹ç”¨é—ªç”µè´·

2. **å®æ–½ Trigger API ç­–ç•¥**
   - è‡ªåŠ¨åŒ–ä»·æ ¼è§¦å‘
   - 24/7 ç›‘æ§

3. **ä¼˜åŒ–å¤šç­–ç•¥ç»„åˆ**
   - æ ¹æ®æœºä¼šé€‰æ‹©æœ€ä¼˜æ–¹æ¡ˆ
   - æœ€å¤§åŒ–æ”¶ç›Š

---

## ğŸ“Š é¢„æœŸç»¼åˆæ”¶ç›Š

### åŸºå‡†ï¼ˆå½“å‰ Lite APIï¼‰
```
æ—¥äº¤æ˜“é‡: 10 ç¬”
å¹³å‡åˆ©æ¶¦: 0.005 SOL/ç¬”
æˆåŠŸç‡: 60%
æ—¥æ”¶ç›Š: 0.03 SOL (~$4.5)
æœˆæ”¶ç›Š: 0.9 SOL (~$135)
```

### å‡çº§åˆ° Ultra API
```
æ—¥äº¤æ˜“é‡: 50 ç¬” (5xï¼Œé€Ÿåº¦æå‡+å‘ç°æ›´å¤š)
å¹³å‡åˆ©æ¶¦: 0.0065 SOL/ç¬” (+30%ï¼ŒJuno æœ€ä¼˜ä»·æ ¼)
æˆåŠŸç‡: 96% (+60%ï¼ŒPredictive Execution)
æ—¥æ”¶ç›Š: 0.312 SOL (~$47)
æœˆæ”¶ç›Š: 9.36 SOL (~$1,404)
æå‡: 10.4x
```

### æ·»åŠ  Jupiter Lend (0 è´¹ç”¨é—ªç”µè´·)
```
æ—¥äº¤æ˜“é‡: 80 ç¬” (+60%ï¼Œæœºä¼šé˜ˆå€¼é™ä½)
å¹³å‡åˆ©æ¶¦: 0.0075 SOL/ç¬” (+15%ï¼ŒèŠ‚çœé—ªç”µè´·è´¹ç”¨)
æˆåŠŸç‡: 96%
æ—¥æ”¶ç›Š: 0.576 SOL (~$86)
æœˆæ”¶ç›Š: 17.28 SOL (~$2,592)
æå‡: 19.2x
```

### æ·»åŠ  Trigger API (è‡ªåŠ¨åŒ–)
```
æ—¥äº¤æ˜“é‡: 100 ç¬” (+25%ï¼Œ24/7 ç›‘æ§)
å¹³å‡åˆ©æ¶¦: 0.0075 SOL/ç¬”
æˆåŠŸç‡: 96%
æ—¥æ”¶ç›Š: 0.72 SOL (~$108)
æœˆæ”¶ç›Š: 21.6 SOL (~$3,240)
æå‡: 24x
```

---

## ğŸ“ å…³é”®å¤–å–

### 1. Ultra API å·²ç»æ˜¯æœ€ä¼˜é€‰æ‹©
ä½ å·²ç»å‡çº§å®Œæˆï¼Œè¿™æ˜¯æ­£ç¡®çš„ç¬¬ä¸€æ­¥ï¼

### 2. Juno å¼•æ“è‡ªåŠ¨ä¼˜åŒ–ä¸€åˆ‡
ä¸éœ€è¦æ‰‹åŠ¨é€‰æ‹©è·¯ç”±ï¼ŒJuno ä¼šï¼š
- è‡ªåŠ¨èšåˆå¤šæº
- è‡ªå­¦ä¹ è¿‡æ»¤
- åŠ¨æ€ä¼˜åŒ–

### 3. Jupiter Lend æ˜¯æ¸¸æˆè§„åˆ™æ”¹å˜è€…
**0% é—ªç”µè´·è´¹ç”¨** = å¥—åˆ©é—¨æ§›é™ä½ = æœºä¼šæš´å¢

### 4. Price API V3 æ˜¯æ•ˆç‡å€å¢å™¨
é¢„ç­›é€‰ â†’ å‡å°‘æ— æ•ˆæŸ¥è¯¢ â†’ å‘ç°æ›´å¤šæœºä¼š

### 5. Trigger API æ˜¯è‡ªåŠ¨åŒ–åˆ©å™¨
è®¾ç½®åå¿˜è®° â†’ 24/7 ç›‘æ§ â†’ æ•è·æ‰€æœ‰æœºä¼š

---

## ğŸ“š å®˜æ–¹æ–‡æ¡£é“¾æ¥

| API | æ–‡æ¡£é“¾æ¥ |
|-----|---------|
| Ultra Swap API | https://dev.jup.ag/docs/ultra/get-started |
| Price API V3 | https://dev.jup.ag/docs/price/v3 |
| Trigger API | https://dev.jup.ag/docs/trigger/index |
| Jupiter Lend SDK | https://dev.jup.ag/docs/lend/sdk |
| Juno Engine | https://dev.jup.ag/docs/routing/index |
| Rate Limits | https://dev.jup.ag/portal/rate-limit |

---

## âœ… æ£€æŸ¥æ¸…å•

### çŸ­æœŸï¼ˆå·²å®Œæˆï¼‰
- [x] å‡çº§åˆ° Ultra API
- [x] é…ç½® API Key
- [x] ä¼˜åŒ–æŸ¥è¯¢é—´éš”
- [x] å¢åŠ  Worker æ•°é‡

### ä¸­æœŸï¼ˆå¾…å®Œæˆï¼‰
- [ ] é›†æˆ Price API V3 é¢„ç­›é€‰
- [ ] æ·»åŠ  Shield API å®‰å…¨æ£€æŸ¥
- [ ] ç ”ç©¶ Jupiter Lend Flash Loan
- [ ] æµ‹è¯•å…è´¹é—ªç”µè´·

### é•¿æœŸï¼ˆè®¡åˆ’ä¸­ï¼‰
- [ ] å®Œå…¨è¿ç§»åˆ° Jupiter Lend
- [ ] å®æ–½ Trigger API è‡ªåŠ¨åŒ–
- [ ] ä¼˜åŒ–å¤šç­–ç•¥ç»„åˆ
- [ ] è¾¾åˆ° $100 ä¸‡/å¤©äº¤æ˜“é‡ï¼ˆè§£é” 165 RPSï¼‰

---

**æŠ¥å‘Šç¼–åˆ¶**: åŸºäº Jupiter å®˜æ–¹æ–‡æ¡£ç³»ç»ŸæŸ¥è¯¢  
**æ—¥æœŸ**: 2025-10-21  
**ä¸‹ä¸€æ­¥**: å¼€å§‹å®æ–½çŸ­æœŸä¼˜åŒ–æ–¹æ¡ˆ

**ç¥ä½ å¥—åˆ©å¤§ä¸°æ”¶ï¼** ğŸš€ğŸ’°




