# 🎓 小白专用：闪电贷套利配置教程

**10 分钟学会配置，无需任何技术背景！**

---

## 📍 **重要提示**

### ⚠️ **私钥安全**
```
❌ 错误：把私钥直接写在配置文件里
✅ 正确：私钥存在单独的钱包文件里，配置文件只填钱包文件的路径
```

---

## 🎯 **需要配置的 3 个东西**

```
1. RPC 地址        ← 用来连接 Solana 区块链
2. 钱包文件路径    ← 告诉程序钱包文件在哪
3. 钱包里的私钥    ← 存在钱包文件里，不是配置文件里！
```

---

## 📝 **详细步骤**

### **步骤 1：复制配置文件**

在 PowerShell 中运行：

```powershell
# 进入项目目录
cd E:\6666666666666666666666666666\dex-cex\dex-sol

# 复制简化配置文件
Copy-Item .env.mainnet-simple .env -Force

# 显示成功
Write-Host "✅ 配置文件已创建：.env" -ForegroundColor Green
```

---

### **步骤 2：获取 RPC 地址**

#### **选项 A：使用免费 RPC**（临时测试用）

```
免费 RPC 地址：
https://api.mainnet-beta.solana.com
```

**优点**：免费，立即可用  
**缺点**：慢，可能失败，错过机会

#### **选项 B：使用付费 RPC**（推荐）

1. **注册 QuickNode**（推荐）
   - 访问：https://www.quicknode.com/
   - 点击 "Start Building"
   - 注册账号（需要邮箱）
   - 选择 "Solana" → "Mainnet"
   - 复制显示的 HTTP URL

2. **注册 Helius**
   - 访问：https://www.helius.dev/
   - 注册账号
   - 创建 API Key
   - 复制 RPC URL

**付费 RPC 示例**：
```
https://YOUR-PROJECT-NAME.solana-mainnet.quiknode.pro/YOUR-API-KEY/
https://mainnet.helius-rpc.com/?api-key=YOUR-API-KEY
```

---

### **步骤 3：修改配置文件**

#### 🖥️ **方法 1：用记事本修改**

1. 找到文件：
   ```
   E:\6666666666666666666666666666\dex-cex\dex-sol\.env
   ```

2. 右键 → 打开方式 → 记事本

3. 找到这两行：
   ```
   SOLANA_RPC_URL=在这里填你的RPC地址
   SOLANA_RPC_URLS=在这里填你的RPC地址
   ```

4. 修改为（把你的 RPC 地址粘贴上去）：
   ```
   SOLANA_RPC_URL=https://api.mainnet-beta.solana.com
   SOLANA_RPC_URLS=https://api.mainnet-beta.solana.com
   ```
   或者用你的付费 RPC：
   ```
   SOLANA_RPC_URL=https://YOUR-PROJECT.quiknode.pro/YOUR-KEY/
   SOLANA_RPC_URLS=https://YOUR-PROJECT.quiknode.pro/YOUR-KEY/
   ```

5. **保存文件**（Ctrl + S）

#### 💻 **方法 2：用 PowerShell 修改**

```powershell
# 替换 RPC 地址（把下面的地址换成你的）
$rpcUrl = "https://api.mainnet-beta.solana.com"

# 自动修改配置文件
(Get-Content .env) -replace 'SOLANA_RPC_URL=.*', "SOLANA_RPC_URL=$rpcUrl" | Set-Content .env
(Get-Content .env) -replace 'SOLANA_RPC_URLS=.*', "SOLANA_RPC_URLS=$rpcUrl" | Set-Content .env

Write-Host "✅ RPC 已配置" -ForegroundColor Green
```

---

### **步骤 4：创建钱包**

#### **什么是钱包文件？**

```
钱包文件 = 一个 JSON 文件，里面存着你的私钥
位置: keypairs/flashloan-wallet.json

⚠️ 重要：这个文件千万别给别人！
```

#### **方法 1：使用 Solana CLI 创建**（推荐）

```powershell
# 检查是否已安装 Solana CLI
solana --version

# 如果显示版本号，说明已安装
# 创建钱包
solana-keygen new -o keypairs/flashloan-wallet.json

# 会显示：
# Generating a new keypair
# 
# For added security, enter a BIP39 passphrase
# （按回车跳过密码）
#
# Wrote new keypair to keypairs/flashloan-wallet.json
# ================================================================================
# pubkey: ABC123...（这是你的钱包地址，复制保存）
# ================================================================================
# Save this seed phrase and your BIP39 passphrase to recover your new keypair:
# word1 word2 word3 ...（助记词，务必抄写保存！）
# ================================================================================
```

**⚠️ 重要步骤**：
1. 复制显示的 `pubkey`（钱包地址）
2. 抄写 `seed phrase`（助记词）到纸上
3. 妥善保管助记词！

#### **方法 2：使用现有钱包**

如果你已经有钱包（比如从 Phantom 导出）：

```powershell
# 把你的钱包文件复制到项目
# 钱包文件是一个 JSON 数组，类似：
# [123,45,67,89,...]

# 复制到指定位置
Copy-Item "你的钱包文件路径.json" "keypairs/flashloan-wallet.json"
```

#### **方法 3：暂时使用 Devnet 钱包**（仅测试）

```powershell
# 使用项目自带的测试钱包
Copy-Item keypairs/devnet-test-wallet.json keypairs/flashloan-wallet.json
Write-Host "⚠️  使用测试钱包，请尽快创建正式钱包" -ForegroundColor Yellow
```

---

### **步骤 5：查看钱包地址**

```powershell
# 显示钱包地址
solana-keygen pubkey keypairs/flashloan-wallet.json

# 会显示类似：
# 5xK7m9PqQ8R...（一串字母数字）
```

**复制这个地址**，用来充值！

---

### **步骤 6：充值钱包**

1. **复制钱包地址**（上一步得到的）

2. **打开交易所**（币安、欧易等）

3. **操作步骤**：
   ```
   ① 找到 SOL 币种
   ② 点击 "提现" 或 "转账"
   ③ 粘贴钱包地址
   ④ 输入金额（最少 0.1 SOL）
   ⑤ 选择网络：Solana
   ⑥ 确认提现
   ```

4. **等待到账**（通常 1-2 分钟）

---

### **步骤 7：验证余额**

```powershell
# 查询余额
solana balance --keypair keypairs/flashloan-wallet.json

# 应该显示：
# 0.1 SOL 或更多
```

如果显示 `0 SOL`，说明还没到账，再等等。

---

## ✅ **配置完成检查**

运行以下命令检查配置：

```powershell
# 1. 检查 RPC 配置
Get-Content .env | Select-String "SOLANA_RPC_URL"
# 应显示你的 RPC 地址，不是 "在这里填..."

# 2. 检查钱包文件是否存在
Test-Path keypairs/flashloan-wallet.json
# 应显示 True

# 3. 检查钱包余额
solana balance --keypair keypairs/flashloan-wallet.json
# 应显示 >= 0.1 SOL
```

**全部通过？恭喜！配置完成！** 🎉

---

## 🚀 **启动机器人**

配置完成后，运行：

```powershell
# 1. 构建项目
pnpm build

# 2. 启动机器人
pnpm start:onchain-bot

# 应该看到：
# [INFO] 🤖 Solana Arbitrage Bot Starting...
# [INFO] 📡 Connected to Mainnet
# [INFO] 💰 Wallet Balance: 0.50 SOL
# [INFO] ⚡ FlashLoan Enabled
# [INFO] 🔍 Scanning markets...
```

---

## ❓ **常见问题**

### **Q1：我找不到 .env 文件**
```
A：文件可能被隐藏了

解决方法：
1. 打开文件资源管理器
2. 点击 "查看" 标签
3. 勾选 "隐藏的项目"
4. 现在应该能看到 .env 文件了
```

### **Q2：没有 Solana CLI，怎么办？**
```
A：可以暂时使用测试钱包

运行：
Copy-Item keypairs/devnet-test-wallet.json keypairs/flashloan-wallet.json

但建议尽快安装 Solana CLI 创建正式钱包
安装教程：https://docs.solana.com/cli/install-solana-cli-tools
```

### **Q3：私钥放哪里？**
```
A：私钥在钱包文件里，不要手动填写！

钱包文件位置：keypairs/flashloan-wallet.json
配置文件只需要填路径：DEFAULT_KEYPAIR_PATH=./keypairs/flashloan-wallet.json

⚠️ 千万不要把私钥或助记词直接写在配置文件里！
```

### **Q4：免费 RPC 够用吗？**
```
A：可以先用免费的测试，但建议尽快升级

免费 RPC 问题：
- 响应慢（错过机会）
- 经常失败
- 限制请求次数

付费 RPC 优势：
- 响应快（抓住更多机会）
- 稳定可靠
- 每月 $10-50，但能赚回来
```

### **Q5：需要多少本金？**
```
A：使用闪电贷，只需要很少本金！

最少：0.1 SOL ($15) - 用于 Gas 费
推荐：0.5 SOL ($75) - 更安全

闪电贷可以借 20-100 SOL 进行套利
不需要真的拥有 20-100 SOL！
```

---

## 📞 **需要帮助？**

- 📖 查看 `FLASHLOAN_GUIDE.md` - 完整教程
- 📖 查看 `SETUP_CHECKLIST.md` - 配置清单
- 📖 查看 `PRODUCTION_READINESS.md` - 系统评估

---

## 🎊 **配置成功！**

现在可以：
```bash
pnpm start:onchain-bot
```

**开始赚钱！** 💰🚀
