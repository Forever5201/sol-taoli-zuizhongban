# Solana å¥—åˆ©æœºå™¨äºº - ç»æµæ¨¡å‹æ ¸å¿ƒ

<div align="center">

**ä¸“ä¸šçº§ Solana DEX å¥—åˆ©ç»æµæ¨¡å‹ç³»ç»Ÿ**

[![TypeScript](https://img.shields.io/badge/TypeScript-5.3-blue)](https://www.typescriptlang.org/)
[![Node.js](https://img.shields.io/badge/Node.js-20+-green)](https://nodejs.org/)
[![License](https://img.shields.io/badge/License-MIT-yellow.svg)](LICENSE)

</div>

## ğŸ¯ é¡¹ç›®ç®€ä»‹

è¿™æ˜¯ä¸€ä¸ªå®Œæ•´çš„ã€ç”Ÿäº§çº§çš„ Solana DEX å¥—åˆ©ç»æµæ¨¡å‹ç³»ç»Ÿï¼Œå®ç°äº†ä¸“ä¸šå¥—åˆ©è€…æ‰€éœ€çš„æ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½ï¼š

- âœ… **ç²¾ç¡®æˆæœ¬è®¡ç®—**: æ¶µç›–åŸºç¡€è´¹ã€ä¼˜å…ˆè´¹ã€Jito å°è´¹ã€é—ªç”µè´·ç­‰æ‰€æœ‰æˆæœ¬
- âœ… **åŠ¨æ€å°è´¹ä¼˜åŒ–**: å®æ—¶ Jito å¸‚åœºæ•°æ® + å†å²å­¦ä¹  + ç«äº‰è¯„ä¼°
- âœ… **åˆ©æ¶¦åˆ†æå¼•æ“**: æ¯›åˆ©/å‡€åˆ©/ROI è®¡ç®— + æ»‘ç‚¹ä¼°ç®— + æ‰¹é‡è¯„ä¼°
- âœ… **é£é™©ç®¡ç†ç³»ç»Ÿ**: 5å±‚é£é™©æ£€æŸ¥ + æœºä¼šéªŒè¯ + é£é™©ç­‰çº§è¯„ä¼°
- âœ… **ç†”æ–­ä¿æŠ¤æœºåˆ¶**: è¿ç»­å¤±è´¥æ£€æµ‹ + äºæŸç›‘æ§ + è‡ªåŠ¨æ¢å¤
- âœ… **é…ç½®é©±åŠ¨ç­–ç•¥**: å°/ä¸­/å¤§èµ„é‡‘é¢„è®¾ + TOML é…ç½® + çµæ´»å®šåˆ¶
- âœ… **å®ç”¨å·¥å…·é›†**: æˆæœ¬æ¨¡æ‹Ÿå™¨ + Jito ç›‘æ§å™¨ + å®Œæ•´æ¼”ç¤º

## ğŸ“Š æ ¸å¿ƒæ´å¯Ÿ

åœ¨æ¿€çƒˆçš„ MEV ç«äº‰ç¯å¢ƒä¸‹ï¼Œå¥—åˆ©æˆåŠŸçš„å…³é”®æ˜¯ï¼š

> **ä¿¡æ¯ä¼˜åŠ¿** + **åŸºç¡€è®¾æ–½ä¼˜åŠ¿** + **ç­–ç•¥ä¼˜åŠ¿** = **æŒç»­ç›ˆåˆ©**

æœ¬ç³»ç»Ÿé€šè¿‡ä»¥ä¸‹ç­–ç•¥å®ç°è¿™ä¸€ç›®æ ‡ï¼š

### 1. æˆæœ¬ç»“æ„çš„å®Œæ•´æŒæ§

| æˆæœ¬ç±»å‹ | è®¡ç®—æ–¹å¼ | ä¼˜åŒ–ç­–ç•¥ |
|---------|---------|---------|
| åŸºç¡€äº¤æ˜“è´¹ | 5,000 lamports Ã— ç­¾åæ•° | å‡å°‘ç­¾åã€ä½¿ç”¨LUT |
| ä¼˜å…ˆè´¹ | (CU Ã— ä»·æ ¼) / 1,000,000 | åŠ¨æ€è°ƒæ•´ã€é¿å¼€é«˜å³° |
| Jito å°è´¹ | å®æ—¶å¸‚åœºç«ä»· | æ™ºèƒ½å‡ºä»·ã€å†å²å­¦ä¹  |
| é—ªç”µè´·è´¹ç”¨ | å€Ÿæ¬¾é¢ Ã— 0.09% | æŒ‰éœ€ä½¿ç”¨ã€å¤§é¢å¥—åˆ© |

### 2. èµ„é‡‘é‡çº§ä¸ç­–ç•¥çŸ©é˜µ

| èµ„é‡‘é‡çº§ | é—ªç”µè´· | Jitoç­–ç•¥ | æœ€å°åˆ©æ¶¦ | ç›®æ ‡æˆåŠŸç‡ |
|---------|--------|---------|---------|-----------|
| å° (<10 SOL) | âœ… å¿…é¡» | 50th | 0.0001 SOL | 50% |
| ä¸­ (10-100 SOL) | âš¡ è‡ªåŠ¨ | 75th | 0.00005 SOL | 70% |
| å¤§ (>100 SOL) | âŒ ä¸ç”¨ | 95th | 0.00003 SOL | 90% |

### 3. åŠ¨æ€ Jito å°è´¹åšå¼ˆè®º

```
æœ€ä¼˜å°è´¹ = min(
  åŸºç¡€å°è´¹ Ã— ç«äº‰ç³»æ•° Ã— ç´§è¿«æ€§ç³»æ•°,
  é¢„æœŸåˆ©æ¶¦ Ã— åˆ©æ¶¦æ¯”ä¾‹
)
```

- **å°èµ„é‡‘**: åˆ©æ¶¦æ¯”ä¾‹ 30%ï¼Œæ§åˆ¶æˆæœ¬
- **ä¸­ç­‰èµ„é‡‘**: åˆ©æ¶¦æ¯”ä¾‹ 40%ï¼Œå¹³è¡¡ç­–ç•¥
- **å¤§èµ„é‡‘**: åˆ©æ¶¦æ¯”ä¾‹ 50%ï¼Œè¿½æ±‚æˆåŠŸ

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Node.js >= 20.0.0
- npm or yarn
- TypeScript 5.3+

### å®‰è£…

```bash
# å…‹éš†é¡¹ç›®
git clone <repository>
cd solana-arb-bot

# å®‰è£…ä¾èµ–
npm install

# æ„å»ºé¡¹ç›®
npm run build
```

### é…ç½®

```bash
# å¤åˆ¶å…¨å±€é…ç½®ç¤ºä¾‹
cp configs/global.example.toml configs/global.toml

# ç¼–è¾‘é…ç½®ï¼ˆå¡«å…¥çœŸå®çš„ RPCã€å¯†é’¥è·¯å¾„ç­‰ï¼‰
# æ³¨æ„ï¼šacknowledge_terms_of_service å¿…é¡»è®¾ä¸º true
```

### è¿è¡Œæ¼”ç¤º

```bash
# å®Œæ•´çš„ç»æµæ¨¡å‹æ¼”ç¤º
npm run demo

# æˆæœ¬æ¨¡æ‹Ÿå™¨
npm run cost-sim -- --help

# Jito å°è´¹ç›‘æ§
npm run jito-monitor
```

## ğŸ“ é¡¹ç›®ç»“æ„

```
solana-arb-bot/
â”œâ”€â”€ packages/
â”‚   â””â”€â”€ core/
â”‚       â””â”€â”€ src/
â”‚           â””â”€â”€ economics/          # ğŸ¯ ç»æµæ¨¡å‹æ ¸å¿ƒ
â”‚               â”œâ”€â”€ types.ts        # ç±»å‹å®šä¹‰
â”‚               â”œâ”€â”€ cost-calculator.ts      # æˆæœ¬è®¡ç®—å™¨
â”‚               â”œâ”€â”€ jito-tip-optimizer.ts   # Jitoå°è´¹ä¼˜åŒ–å™¨
â”‚               â”œâ”€â”€ profit-analyzer.ts      # åˆ©æ¶¦åˆ†æå™¨
â”‚               â”œâ”€â”€ risk-manager.ts         # é£é™©ç®¡ç†å™¨
â”‚               â”œâ”€â”€ circuit-breaker.ts      # ç†”æ–­æœºåˆ¶
â”‚               â””â”€â”€ README.md       # è¯¦ç»†APIæ–‡æ¡£
â”œâ”€â”€ configs/
â”‚   â”œâ”€â”€ global.example.toml         # å…¨å±€é…ç½®ç¤ºä¾‹
â”‚   â”œâ”€â”€ strategy-small.toml         # å°èµ„é‡‘ç­–ç•¥
â”‚   â”œâ”€â”€ strategy-medium.toml        # ä¸­ç­‰èµ„é‡‘ç­–ç•¥
â”‚   â””â”€â”€ strategy-large.toml         # å¤§èµ„é‡‘ç­–ç•¥
â”œâ”€â”€ tools/
â”‚   â”œâ”€â”€ cost-simulator/             # æˆæœ¬æ¨¡æ‹Ÿå™¨
â”‚   â””â”€â”€ jito-monitor/               # Jitoç›‘æ§å™¨
â”œâ”€â”€ examples/
â”‚   â””â”€â”€ economics-demo.ts           # å®Œæ•´æ¼”ç¤º
â””â”€â”€ README.md                       # æœ¬æ–‡ä»¶
```

## ğŸ’¡ ä½¿ç”¨ç¤ºä¾‹

### ç®€å•ç¤ºä¾‹

```typescript
import { createEconomicsSystem } from './packages/core/src/economics';

// åˆ›å»ºç³»ç»Ÿ
const economics = createEconomicsSystem({
  circuitBreaker: {
    maxConsecutiveFailures: 3,
    maxHourlyLoss: 500_000,
    minSuccessRate: 0.3,
  },
});

// è·å– Jito å°è´¹
const jitoTip = await economics.jitoTipOptimizer.getTipAtPercentile(75);

// è®¡ç®—æˆæœ¬
const costs = economics.costCalculator.calculateTotalCost(costConfig, jitoTip);

// åˆ†æåˆ©æ¶¦
const analysis = economics.profitAnalyzer.analyzeProfitability(
  opportunity,
  costConfig,
  jitoTip
);

// é£é™©æ£€æŸ¥
const riskCheck = economics.riskManager.preExecutionCheck(
  opportunity,
  analysis,
  riskConfig
);

// æ‰§è¡Œå†³ç­–
if (riskCheck.passed && economics.circuitBreaker.canAttempt()) {
  // æ‰§è¡Œäº¤æ˜“...
}
```

## ğŸ› ï¸ å‘½ä»¤è¡Œå·¥å…·

### 1. æˆæœ¬æ¨¡æ‹Ÿå™¨

å¿«é€Ÿä¼°ç®—äº¤æ˜“æˆæœ¬å’Œæœ€å°åˆ©æ¶¦é—¨æ§›ï¼š

```bash
# åŸºç¡€ç¤ºä¾‹
npm run cost-sim -- -s 2 -cu 200000 -cup 5000

# é—ªç”µè´·å¥—åˆ©
npm run cost-sim -- -s 4 -cu 400000 -fl -fla 50000000000

# é«˜ç«äº‰ç¯å¢ƒ
npm run cost-sim -- -cup 20000 -jt 95 -c 0.8
```

**è¾“å‡ºç¤ºä¾‹**ï¼š
```
ğŸ§® ========== äº¤æ˜“æˆæœ¬æ¨¡æ‹Ÿå™¨ ==========

ğŸ“‹ é…ç½®å‚æ•°:
  ç­¾åæ•°é‡: 4
  è®¡ç®—å•å…ƒ: 400,000
  ...

ğŸ’° æˆæœ¬æ˜ç»†:
  åŸºç¡€äº¤æ˜“è´¹: 0.000020000 SOL
  ä¼˜å…ˆè´¹: 0.000020000 SOL
  Jito å°è´¹: 0.000036000 SOL
  æ€»æˆæœ¬: 0.000076100 SOL

ğŸ“Š ç›ˆåˆ©åˆ†æ:
  æœ€å°åˆ©æ¶¦é—¨æ§›: 0.000076100 SOL
  ç›ˆäºå¹³è¡¡ç‚¹: æ¯›åˆ©æ¶¦éœ€è¾¾åˆ° 0.000076100 SOL
```

### 2. Jito ç›‘æ§å™¨

å®æ—¶ç›‘æ§ Jito å°è´¹å¸‚åœºï¼š

```bash
npm run jito-monitor
```

**è¾“å‡ºç¤ºä¾‹**ï¼š
```
ğŸ¯ ========== Jito å°è´¹ç›‘æ§å™¨ ==========

â° æ›´æ–°æ—¶é—´: 23:45:32

å½“å‰å°è´¹å¸‚åœº (SOL):
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  ç™¾åˆ†ä½     â”‚  SOL         â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚  25th       â”‚ 0.000006000  â”‚
  â”‚  50th       â”‚ 0.000010000  â”‚
  â”‚  75th       â”‚ 0.000036000  â”‚
  â”‚  95th       â”‚ 0.001400000  â”‚
  â”‚  99th       â”‚ 0.010000000  â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“– è¯¦ç»†æ–‡æ¡£

- [ç»æµæ¨¡å‹ API æ–‡æ¡£](packages/core/src/economics/README.md)
- [è®¾è®¡æ–‡æ¡£](solè®¾è®¡æ–‡æ¡£.md)
- [é…ç½®è¯´æ˜](configs/global.example.toml)

## ğŸ“ æ ¸å¿ƒæ¦‚å¿µ

### æˆæœ¬è®¡ç®—

æ‰€æœ‰æˆæœ¬éƒ½ä»¥ lamports (1 SOL = 10^9 lamports) ä¸ºå•ä½ç²¾ç¡®è®¡ç®—ï¼š

- **åŸºç¡€è´¹**: æ¯ä¸ªç­¾å 5,000 lamports
- **ä¼˜å…ˆè´¹**: æ ¹æ®è®¡ç®—å•å…ƒåŠ¨æ€è®¡ç®—
- **Jito å°è´¹**: å®æ—¶æŸ¥è¯¢å¸‚åœºæ•°æ®
- **é—ªç”µè´·**: å€Ÿæ¬¾é‡‘é¢çš„ 0.09%

### åˆ©æ¶¦åˆ†æ

```typescript
æ¯›åˆ©æ¶¦ = è¾“å‡ºé‡‘é¢ - è¾“å…¥é‡‘é¢
æ»‘ç‚¹å½±å“ = æ¯›åˆ©æ¶¦ Ã— é¢„ä¼°æ»‘ç‚¹
å‡€åˆ©æ¶¦ = æ¯›åˆ©æ¶¦ - æ»‘ç‚¹å½±å“ - æ€»æˆæœ¬
ROI = (å‡€åˆ©æ¶¦ / æ€»æˆæœ¬) Ã— 100%
```

### é£é™©ç®¡ç†

5å±‚é£é™©æ£€æŸ¥ï¼š

1. âœ… åˆ©æ¶¦é—¨æ§›æ£€æŸ¥
2. âœ… æˆæœ¬é™åˆ¶æ£€æŸ¥
3. âœ… æ»‘ç‚¹ä¿æŠ¤æ£€æŸ¥
4. âœ… æµåŠ¨æ€§éªŒè¯æ£€æŸ¥
5. âœ… ROI æœ€ä½è¦æ±‚æ£€æŸ¥

### ç†”æ–­æœºåˆ¶

4ä¸ªç†”æ–­æ¡ä»¶ï¼ˆæ»¡è¶³ä»»ä¸€è§¦å‘ï¼‰ï¼š

1. è¿ç»­å¤±è´¥æ¬¡æ•° >= é˜ˆå€¼
2. å°æ—¶äºæŸ >= é˜ˆå€¼
3. æˆåŠŸç‡ < æœ€ä½è¦æ±‚
4. å‡€åˆ©æ¶¦ä¸ºè´Ÿ

## ğŸ” å®‰å…¨å»ºè®®

âš ï¸ **é‡è¦æç¤º**ï¼šå¥—åˆ©äº¤æ˜“å­˜åœ¨é£é™©ï¼Œå¯èƒ½å¯¼è‡´èµ„é‡‘æŸå¤±ã€‚

åœ¨ä½¿ç”¨æœ¬ç³»ç»Ÿå‰ï¼Œè¯·ç¡®ä¿ï¼š

1. âœ… **ä½¿ç”¨ä¸“ç”¨çƒ­é’±åŒ…**: åˆ‡å‹¿ä½¿ç”¨ä¸»é’±åŒ…
2. âœ… **å°é¢æµ‹è¯•**: å…ˆåœ¨ Devnet æˆ–å°é¢èµ„é‡‘æµ‹è¯•
3. âœ… **ç†è§£æœºåˆ¶**: å……åˆ†ç†è§£å¥—åˆ©é€»è¾‘å’Œæˆæœ¬ç»“æ„
4. âœ… **ç›‘æ§ç³»ç»Ÿ**: å¯†åˆ‡å…³æ³¨ç†”æ–­å™¨å’Œå¥åº·æŒ‡æ ‡
5. âœ… **é£é™©å¯æ§**: ä»…æŠ•å…¥å¯ä»¥æ‰¿å—æŸå¤±çš„èµ„é‡‘

## ğŸ“Š æ€§èƒ½ç‰¹æ€§

- **æˆæœ¬è®¡ç®—**: < 1ms
- **åˆ©æ¶¦åˆ†æ**: < 5ms
- **é£é™©æ£€æŸ¥**: < 3ms
- **Jito API å»¶è¿Ÿ**: 50-100ms
- **æ‰¹é‡è¯„ä¼°**: å¯åŒæ—¶å¤„ç†æ•°ç™¾ä¸ªæœºä¼š

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

## ğŸ“ License

MIT License - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶

## ğŸ™ è‡´è°¢

æœ¬é¡¹ç›®å—åˆ°ä»¥ä¸‹é¡¹ç›®çš„å¯å‘ï¼š

- [NotArb](https://github.com/jito-labs/notarb) - ä¸“ä¸šçº§å¥—åˆ©æœºå™¨äººå‚è€ƒ
- [Jito Labs](https://www.jito.wtf/) - MEV åŸºç¡€è®¾æ–½
- [Jupiter Aggregator](https://jup.ag/) - Solana èšåˆå™¨

---

<div align="center">
Made with â¤ï¸ by Solana Arbitrage Bot Team
</div>



